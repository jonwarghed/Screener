// Generated by CoffeeScript 1.7.1
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  define(["knockout", "jquery"], function(ko, $) {
    var BusViewModel;
    return BusViewModel = (function() {
      var tripQuestion;

      function BusViewModel() {
        this.updateBusSchedule = __bind(this.updateBusSchedule, this);
        this.bus = ko.observableArray();
        this.updateBusSchedule();
        setInterval(this.updateBusSchedule, 100000);
      }

      tripQuestion = 'https://api.vasttrafik.se/bin/rest.exe/v1/departureBoard?id=.kvil&format=json&jsonpCallback=?&direction=.anekd&authKey=5914945f-3e58-4bbc-8169-29571809775d&needJourneyDetail=0&timeSpan=1439&maxDeparturesPerLine=4';

      BusViewModel.prototype.updateBusSchedule = function() {
        return $.getJSON(tripQuestion, (function(_this) {
          return function(data) {
            return _this.bus(data.DepartureBoard.Departure);
          };
        })(this));
      };

      return BusViewModel;

    })();
  });

}).call(this);

//# sourceMappingURL=bus.map
